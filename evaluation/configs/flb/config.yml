includes:
  # - "../../../running-ng/config/base/runbms.yml"
  - "../immix-sim-minheap.yml"
  # - "../../../running-ng/config/base/minheap.yml"

benchmarks:
  dacapochopin-69a704e:
    - avrora
    - batik
    - biojava
    - cassandra
    - eclipse
    - fop
    - graphchi
    # - h2
    - h2o
    - jme
    - jython
    # - kafka
    - luindex
    - lusearch
    - pmd
    - sunflow
    - tomcat
    # - tradebeans
    # - tradesoap
    - xalan
    - zxing

overrides:
  "suites.dacapochopin-69a704e.timing_iteration": 5
  "suites.dacapochopin-69a704e.callback": "probe.DacapoChopinCallback"
  "suites.dacapochopin-69a704e.timeout": 600
  # "minheap_multiplier": 4.0

runtimes:
  immix_no_barrier:
    type: OpenJDK
    release: 11
    home: "/home/wenyuz/MMTk-Dev/evaluation/configs/flb/jdk-barrier-measurement/jdk"
  immix_field_barrier:
    type: OpenJDK
    release: 11
    home: "/home/wenyuz/MMTk-Dev/evaluation/configs/flb/jdk-barrier-measurement/jdk"
  immix_object_barrier:
    type: OpenJDK
    release: 11
    home: "/home/wenyuz/MMTk-Dev/evaluation/configs/flb/jdk-barrier-measurement/jdk"
  immix_no_barrier_no_block_alloc_buffer:
    type: OpenJDK
    release: 11
    home: "/home/wenyuz/MMTk-Dev/evaluation/configs/flb/jdk-sync-block-alloc/jdk"

modifiers:
  probes_cp:
    type: JVMClasspath
    val: "/home/wenyuz/MMTk-Dev/evaluation/probes /home/wenyuz/MMTk-Dev/evaluation/probes/probes.jar"
  probes:
    type: JVMArg
    val: "-Djava.library.path=/home/wenyuz/MMTk-Dev/evaluation/probes -Dprobes=RustMMTk"
  barrier:
    type: EnvVar
    var: "IX_BARRIER"
    val: "{0}"
  threads:
    type: EnvVar
    var: "MMTK_THREADS"
    val: "{0}"

configs:
  - "immix_no_barrier|ms|s|c2|mmtk_gc-Immix|barrier-NoBarrier|threads-1|tph|probes_cp|probes"
  - "immix_field_barrier|ms|s|c2|mmtk_gc-Immix|barrier-FieldBarrier|threads-1|tph|probes_cp|probes"
  - "immix_object_barrier|ms|s|c2|mmtk_gc-Immix|barrier-ObjectBarrier|threads-1|tph|probes_cp|probes"
  - "immix_no_barrier_no_block_alloc_buffer|ms|s|c2|mmtk_gc-Immix|barrier-NoBarrier|threads-1|tph|probes_cp|probes"