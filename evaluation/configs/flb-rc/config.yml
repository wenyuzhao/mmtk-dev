includes:
  - "../../../running-ng/config/base/runbms.yml"
  - "/home/wenyuz/MMTk-Dev/running-ng/config/base/minheap.yml"

benchmarks:
  dacapochopin-69a704e:
    - avrora
    - batik
    - biojava
    - cassandra
    - eclipse
    - fop
    - graphchi
    - h2
    - h2o
    - jme
    - jython
    - luindex
    - lusearch
    - pmd
    - sunflow
    - tradebeans
    - tradesoap
    - tomcat
    - xalan
    - zxing

overrides:
  "suites.dacapochopin-69a704e.timing_iteration": 5
  "suites.dacapochopin-69a704e.callback": "probe.DacapoChopinCallback"
  "suites.dacapochopin-69a704e.timeout": 600
  "minheap_multiplier": 4.0

runtimes:
  immix_no_barrier:
    type: OpenJDK
    release: 11
    home: "/home/wenyuz/MMTk-Dev/evaluation/configs/flb-rc/jdk-barrier-measurement/jdk"
  immix_field_barrier:
    type: OpenJDK
    release: 11
    home: "/home/wenyuz/MMTk-Dev/evaluation/configs/flb-rc/jdk-barrier-measurement/jdk"

modifiers:
  probes_cp:
    type: JVMClasspath
    val: "/home/wenyuz/MMTk-Dev/evaluation/probes /home/wenyuz/MMTk-Dev/evaluation/probes/probes.jar"
  probes:
    type: JVMArg
    val: "-Djava.library.path=/home/wenyuz/MMTk-Dev/evaluation/probes -Dprobes=RustMMTk"
  barrier:
    type: EnvVar
    var: "IX_BARRIER"
    val: "{0}"
  threads:
    type: EnvVar
    var: "MMTK_THREADS"
    val: "{0}"

configs:
  - "immix_no_barrier|ms|s|c2|mmtk_gc-Immix|barrier-NoBarrier|threads-1|tph|probes_cp|probes"
  - "immix_field_barrier|ms|s|c2|mmtk_gc-Immix|barrier-FieldBarrier|threads-1|tph|probes_cp|probes"

# suites:
#   dacapochopin-69a704e:
#     type: DaCapo
#     release: evaluation
#     path: /usr/share/benchmarks/dacapo/dacapo-evaluation-git-69a704e.jar
#     minheap:
#       avrora: 29 # 7
#       batik: 1057 # 253
#       biojava: 191
#       cassandra: 89
#       eclipse: 437
#       fop: 19
#       graphchi: 255
#       h2: 1154
#       h2o: 73
#       jme: 55
#       jython: 37
#       # Java version '15.0.2' is incompatable with kafka: Kafka currently requires Java 8 due to 'java.lang.NoClassDefFoundError: javax/activation/DataSource' error for more recent Java releases.
#       # kafka: inf
#       luindex: 42
#       lusearch: 23
#       pmd: 243
#       sunflow: 33
#       tradebeans: 169
#       tradesoap: 133
#       tomcat: 25
#       xalan: 9
#       zxing: 96
#     timing_iteration: 3
#     timeout: 120